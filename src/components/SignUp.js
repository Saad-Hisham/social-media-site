import React, { useState } from 'react';
import { useNavigate } from "react-router-dom";
import { Link } from 'react-router-dom';
import { faUserPlus } from '@fortawesome/free-solid-svg-icons';
import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';
import { app, database, storage } from "../firebase/firebaseConfig";
import { getAuth, createUserWithEmailAndPassword, updateProfile } from "firebase/auth";
import { addDoc, collection } from 'firebase/firestore';
import { getDownloadURL, ref, uploadBytesResumable } from "firebase/storage";

let auth = getAuth();

const SignUp = () => {
  const [name, setName] = useState('');
  const [email, setEmail] = useState('');
  const [password, setPassword] = useState('');
  const [image, setImage] = useState('');
  const [errors, setErrors] = useState({});
  const [firebaseErr, setFirebaseErr] = useState("");
  const [loading,setLoading] = useState("")
  const [uploadComplete, setUploadComplete] = useState(false);
  const navigate = useNavigate();
  const users = collection(database, "users")
  
  const handleSubmit = (event) => {
    event.preventDefault();
    const errors = validate();
    if (Object.keys(errors).length === 0 ) {
      createUserWithEmailAndPassword(auth, email, password)
        .then((res) => {
          const user = auth.currentUser;
            addDoc(users, {
              Userid: res.user.uid, // use the userId state in the document
              Username: name,
              userEmail: email,
              userPssword: password,
              notifications: [],
              friends: [],
              posts: [],
              chats:[],
              reacts:[],
              userImage: image 
            }).then(()=>{
              updateProfile(user, {
                displayName: name,
                photoURL: image,
              })
             navigate("/signin")
            })
         
        }).catch((err) => {
          const filteredMessage = err.message
            .replace(/Firebase: |auth\/|Error|\(|\)/g, "")
            .replace(/-/g, " ")
            .replace(/([a-z])([A-Z])/g, "$1 $2")
            .split("/")
            .join(" ")
            .split(" ")
            .map((word, index) => {
              if (index === 0) {
                return word.toLowerCase();
              }
              return word.charAt(0).toUpperCase() + word.slice(1);
            })
            .join(" ");
          setFirebaseErr(filteredMessage)
        });
    } else {
      setErrors(errors);
    }
  };
  
  const validate = () => {
    const errors = {};
    if (!name.trim()) {
      errors.name = 'Name is required';
    }
    if (!email.trim()) {
      errors.email = 'Email is required';
    } else if (!/\S+@\S+\.\S+/.test(email)) {
      errors.email = 'Email is invalid';
    }
    if (!password.trim()) {
      errors.password = 'Password is required';
    } else if (password.length < 6) {
      errors.password = 'Password must be at least 6 characters';
    }
    return errors;
  };

  return (
    <div>
       <svg width="512" height="155" viewBox="0 0 512 155" fill="none" xmlns="http://www.w3.org/2000/svg" className='logo'>
<g opacity="0.5">
<mask id="path-1-outside-1_53689_5" maskUnits="userSpaceOnUse" x="0" y="0" width="512" height="155" fill="black">
<rect fill="white" width="512" height="155"/>
<path d="M51 148C37.4 148 26.6667 144 18.8 136C10.9333 127.867 7 117 7 103.4C7 81.9333 15.9333 62.4667 33.8 45C27 39.1333 23.6 32.7333 23.6 25.8C23.6 13.2667 31.0667 7 46 7C49.8667 7 53.6 7.6 57.2 8.8C60.9333 9.86666 64.5333 11.5333 68 13.8L68.2 14C68.4667 14.1333 68.5333 14.3333 68.4 14.6C68.4 14.7333 68.4 14.9333 68.4 15.2C68.4 15.6 68.2667 15.8 68 15.8C67.8667 15.8 67.4667 15.6 66.8 15.2C60.8 11.6 54.7333 9.8 48.6 9.8C42.7333 9.8 37.8667 11.2 34 14C29.6 16.9333 27.4 21.3333 27.4 27.2C27.4 32.8 30.2 38.2 35.8 43.4C53.1333 27.2667 74.9333 19.2 101.2 19.2C110 19.2 117.6 20.4667 124 23C133.2 26.3333 137.8 31.6667 137.8 39C137.8 44.6 134.133 49.4667 126.8 53.6C124.267 55.2 121.467 56.6 118.4 57.8C115.333 58.8667 112.067 59.7333 108.6 60.4C102.6 61.6 96.1333 62.2 89.2 62.2C70.9333 62.2 55.2667 58.4 42.2 50.8C27.1333 67.7333 19.6 86.0667 19.6 105.8C19.6 116.6 22.0667 125.667 27 133C32.6 141.533 40.6 145.8 51 145.8C70.8667 145.8 87.1333 136.267 99.8 117.2C104.067 110.667 106.2 104.733 106.2 99.4C106.2 94.7333 104.6 90.9333 101.4 88C98.3333 84.9333 94.4667 83.4 89.8 83.4C85.2667 83.4 81.0667 84.7333 77.2 87.4C73.2 89.9333 70.3333 93.4 68.6 97.8C68.2 98.8667 67.7333 99.4 67.2 99.4C66.6667 99.4 66.4 99.0667 66.4 98.4C66.4 98.2667 66.4 98.1333 66.4 98C66.5333 97.7333 66.6 97.5333 66.6 97.4C68.3333 92.4667 71.5333 88.6 76.2 85.8C80.6 83 85.4667 81.6 90.8 81.6C96.5333 81.6 101.333 83.3333 105.2 86.8C108.8 90.4 110.6 95 110.6 100.6C110.6 107 108.667 113.133 104.8 119C99.4667 127.533 91.6667 134.533 81.4 140C71.5333 145.333 61.4 148 51 148ZM84.4 59.6C89.3333 59.6 94.2 59.2 99 58.4C103.8 57.6 108.6 56.5333 113.4 55.2C126.733 50.9333 133.4 45.0667 133.4 37.6C133.4 26.9333 123.2 21.6 102.8 21.6C81.0667 21.6 61.4 30.8 43.8 49.2C55.8 56.1333 69.3333 59.6 84.4 59.6Z"/>
<path d="M145.728 139.2C137.728 139.2 133.728 135.667 133.728 128.6C133.728 123 135.928 116.6 140.328 109.4C141.795 106.867 145.861 101.2 152.528 92.4C156.928 86.5333 159.128 82.4 159.128 80C159.128 77.7333 157.261 76.6 153.528 76.6C150.995 76.6 148.195 76.6667 145.128 76.8C142.195 76.9333 139.795 77.0667 137.928 77.2C137.528 79.3333 136.928 81.8 136.128 84.6C135.328 87.4 134.395 90.3333 133.328 93.4C132.661 95.2667 131.595 97.8 130.128 101C128.795 104.2 126.995 107.6 124.728 111.2C124.328 111.733 123.995 112 123.728 112C123.595 112 123.528 111.867 123.528 111.6C123.528 110.933 123.795 110.067 124.328 109C125.395 107.133 126.595 104.867 127.928 102.2C129.261 99.4 130.528 96.3333 131.728 93C132.795 90.0667 133.728 87 134.528 83.8C135.461 80.4667 135.995 78.2 136.128 77C132.928 75 131.328 72 131.328 68C131.328 63.4667 132.928 61.2 136.128 61.2C138.395 61.2 139.528 63.2667 139.528 67.4C139.528 68.3333 139.395 69.4667 139.128 70.8C138.861 72.1333 138.528 73.7333 138.128 75.6C139.995 75.4667 142.928 75.3333 146.928 75.2C151.061 74.9333 154.995 74.8 158.728 74.8C165.528 74.8 168.928 76.8667 168.928 81C168.928 85.4 163.661 94.4667 153.128 108.2C150.861 111.533 148.328 115.333 145.528 119.6C142.861 123.733 141.528 128 141.528 132.4C141.528 133.6 141.795 134.733 142.328 135.8C142.861 136.867 143.995 137.4 145.728 137.4C151.461 137.4 157.795 133.933 164.728 127C168.195 123.533 171.395 119.8 174.328 115.8C177.261 111.8 179.928 107.333 182.328 102.4C182.861 101.333 183.328 100.8 183.728 100.8C183.995 100.8 184.128 101 184.128 101.4C184.128 102.067 183.928 102.8 183.528 103.6C181.261 108.267 178.528 112.8 175.328 117.2C172.128 121.467 168.595 125.533 164.728 129.4C158.195 135.933 151.861 139.2 145.728 139.2Z"/>
<path d="M194.616 140.4C188.082 140.4 183.549 138.6 181.016 135C178.482 131.267 177.216 126.067 177.216 119.4C177.216 109.8 181.216 99.8 189.216 89.4C197.749 78.4667 206.616 73 215.816 73C222.616 73 226.016 75.3333 226.016 80C226.016 85.7333 222.882 91.7333 216.616 98C207.682 107.067 198.282 111.6 188.416 111.6C186.816 115.733 186.016 119.867 186.016 124C186.016 128.533 186.882 132.067 188.616 134.6C190.349 137.133 192.882 138.4 196.216 138.4C199.682 138.4 203.282 137.467 207.016 135.6C210.749 133.6 213.949 131.267 216.616 128.6C218.882 126.333 221.416 123.267 224.216 119.4C227.149 115.4 230.082 110.533 233.016 104.8C233.416 104.133 233.816 103.8 234.216 103.8C235.016 103.8 235.016 104.467 234.216 105.8C231.949 110.333 229.482 114.667 226.816 118.8C224.282 122.933 220.882 126.933 216.616 130.8C214.082 133.333 210.882 135.6 207.016 137.6C203.149 139.467 199.016 140.4 194.616 140.4ZM188.616 110.2C195.949 110.2 204.149 106.267 213.216 98.4V98.2C215.749 96.0667 218.149 93.1333 220.416 89.4C223.082 85.2667 224.416 81.7333 224.416 78.8C224.416 76.6667 222.816 75.6 219.616 75.6C214.549 75.6 208.416 80.1333 201.216 89.2C197.882 93.2 195.216 96.9333 193.216 100.4C191.216 103.867 189.682 107.133 188.616 110.2Z"/>
<path d="M278.773 139C271.84 139 268.373 134.2 268.373 124.6C268.373 120.867 268.973 116.6 270.173 111.8C260.84 129.8 251.573 138.8 242.373 138.8C237.973 138.8 234.64 136.6 232.373 132.2C230.507 128.867 229.573 124.667 229.573 119.6C229.573 115.467 230.173 111.133 231.373 106.6C233.64 98.7333 238.44 91.3333 245.773 84.4C253.907 76.9333 261.64 73.2 268.973 73.2C275.64 73.2 278.973 77.2 278.973 85.2C278.973 88.6667 278.24 92.7333 276.773 97.4L288.973 73.4H289.573C289.973 74.0667 290.84 74.4 292.173 74.4C294.84 74.4 298.24 72.8 302.373 69.6L302.773 70L285.773 103.2C278.973 116.4 275.573 126.4 275.573 133.2C275.573 135.867 276.773 137.2 279.173 137.2C280.773 137.2 282.707 136.6 284.973 135.4C287.24 134.2 289.64 132.2 292.173 129.4C295.373 125.667 298.107 122.133 300.373 118.8C302.773 115.333 305.507 110.667 308.573 104.8C308.973 104.133 309.373 103.8 309.773 103.8C310.573 103.8 310.573 104.467 309.773 105.8C307.373 110.333 304.773 114.867 301.973 119.4C299.307 123.8 296.04 127.933 292.173 131.8C287.373 136.6 282.907 139 278.773 139ZM243.173 137.4C250.64 137.4 260.24 126.867 271.973 105.8C275.707 99.1333 277.573 92.4 277.573 85.6C277.573 78.4 275.24 74.8 270.573 74.8C265.507 74.8 259.773 79 253.373 87.4C250.84 90.8667 248.64 94.2667 246.773 97.6C245.04 100.933 243.64 104.133 242.573 107.2C239.773 115.2 238.373 122.4 238.373 128.8C238.373 134.533 239.973 137.4 243.173 137.4Z"/>
<path d="M316.759 139C307.293 139 302.559 134.333 302.559 125C302.559 117.667 305.293 108.4 310.759 97.2C311.026 96.6667 312.293 94.3333 314.559 90.2C316.959 85.9333 320.359 79.8667 324.759 72H314.359L313.959 71.6L314.159 70.4L314.359 70.2H325.759L340.159 45C341.359 45.5333 342.759 45.8 344.359 45.8C346.226 45.8 348.226 45.1333 350.359 43.8C352.626 42.6 354.159 41.2667 354.959 39.8L355.559 40L337.559 70.2H351.359L351.559 70.4V71.6L351.159 72H336.559L322.959 96C314.826 110.267 310.759 121.267 310.759 129C310.759 134.467 312.893 137.2 317.159 137.2C323.826 137.2 330.559 133.467 337.359 126C339.226 124 341.426 121 343.959 117C346.493 113 348.626 109.2 350.359 105.6C350.626 104.933 350.959 104.733 351.359 105C351.893 105.133 352.026 105.533 351.759 106.2C349.759 110.2 347.626 114 345.359 117.6C343.226 121.2 340.759 124.533 337.959 127.6C331.026 135.2 323.959 139 316.759 139Z"/>
<path d="M381.747 62.4C377.48 62.4 375.347 60.3333 375.347 56.2C375.347 51.6667 377.414 49.4 381.547 49.4C385.814 49.4 387.947 51.4667 387.947 55.6C387.947 60.1333 385.88 62.4 381.747 62.4ZM358.147 140.4C349.347 140.4 344.947 135.533 344.947 125.8C344.947 118.733 347.014 111.267 351.147 103.4L366.147 74H366.747C367.147 74.5333 367.947 74.8 369.147 74.8C371.68 74.8 375.014 73.2667 379.147 70.2L379.547 70.6L362.547 103.6C355.48 117.2 351.947 126.667 351.947 132C351.947 134.4 352.614 136.067 353.947 137C355.28 137.933 356.814 138.4 358.547 138.4C360.414 138.4 362.214 138 363.947 137.2C365.814 136.4 367.414 135.533 368.747 134.6C372.347 131.8 375.347 128.6 377.747 125C380.28 121.267 382.48 117.533 384.347 113.8C386.214 110.067 387.88 106.933 389.347 104.4C389.747 103.733 390.147 103.533 390.547 103.8C390.947 103.933 391.014 104.333 390.747 105C388.08 110.6 385.147 116.333 381.947 122.2C378.747 128.067 374.68 132.733 369.747 136.2C368.014 137.4 366.147 138.4 364.147 139.2C362.28 140 360.28 140.4 358.147 140.4Z"/>
<path d="M397.223 139.4C388.957 139.4 384.823 134.2 384.823 123.8C384.823 119.533 385.757 114.6 387.623 109C388.69 106.2 390.623 101.867 393.423 96C396.357 90.1333 400.223 82.8 405.023 74H405.423C406.49 74.6667 407.623 75 408.823 75C412.023 75 415.423 73.6667 419.023 71L419.223 71.4C415.49 75.1333 409.09 85.4667 400.023 102.4C394.69 112.667 392.023 122 392.023 130.4C392.023 135.333 393.623 137.8 396.823 137.8C404.957 137.8 414.357 129.067 425.023 111.6C423.557 109.067 422.823 105.133 422.823 99.8C422.823 98.2 422.89 96.6 423.023 95C423.29 93.2667 423.557 91.5333 423.823 89.8C424.223 86.7333 425.223 83.4667 426.823 80C428.823 75.3333 430.89 73 433.023 73C435.557 73 436.823 75.2 436.823 79.6C436.823 87.3333 433.357 97.8667 426.423 111.2C426.69 112.933 427.557 114.8 429.023 116.8C430.623 118.8 432.49 119.8 434.623 119.8C440.357 119.8 445.557 115.067 450.223 105.6C450.623 104.8 451.023 104.533 451.423 104.8C451.957 105.067 452.023 105.533 451.623 106.2C449.09 111.133 446.49 114.867 443.823 117.4C441.29 119.933 438.29 121.2 434.823 121.2C432.957 121.2 431.157 120.6 429.423 119.4C427.823 118.067 426.49 116.133 425.423 113.6C422.357 120 418.623 125.467 414.223 130C408.357 136.267 402.69 139.4 397.223 139.4Z"/>
<path d="M463.952 140.4C457.418 140.4 452.885 138.6 450.352 135C447.818 131.267 446.552 126.067 446.552 119.4C446.552 109.8 450.552 99.8 458.552 89.4C467.085 78.4667 475.952 73 485.152 73C491.952 73 495.352 75.3333 495.352 80C495.352 85.7333 492.218 91.7333 485.952 98C477.018 107.067 467.618 111.6 457.752 111.6C456.152 115.733 455.352 119.867 455.352 124C455.352 128.533 456.218 132.067 457.952 134.6C459.685 137.133 462.218 138.4 465.552 138.4C469.018 138.4 472.618 137.467 476.352 135.6C480.085 133.6 483.285 131.267 485.952 128.6C488.218 126.333 490.752 123.267 493.552 119.4C496.485 115.4 499.418 110.533 502.352 104.8C502.752 104.133 503.152 103.8 503.552 103.8C504.352 103.8 504.352 104.467 503.552 105.8C501.285 110.333 498.818 114.667 496.152 118.8C493.618 122.933 490.218 126.933 485.952 130.8C483.418 133.333 480.218 135.6 476.352 137.6C472.485 139.467 468.352 140.4 463.952 140.4ZM457.952 110.2C465.285 110.2 473.485 106.267 482.552 98.4V98.2C485.085 96.0667 487.485 93.1333 489.752 89.4C492.418 85.2667 493.752 81.7333 493.752 78.8C493.752 76.6667 492.152 75.6 488.952 75.6C483.885 75.6 477.752 80.1333 470.552 89.2C467.218 93.2 464.552 96.9333 462.552 100.4C460.552 103.867 459.018 107.133 457.952 110.2Z"/>
</mask>
<path d="M51 148C37.4 148 26.6667 144 18.8 136C10.9333 127.867 7 117 7 103.4C7 81.9333 15.9333 62.4667 33.8 45C27 39.1333 23.6 32.7333 23.6 25.8C23.6 13.2667 31.0667 7 46 7C49.8667 7 53.6 7.6 57.2 8.8C60.9333 9.86666 64.5333 11.5333 68 13.8L68.2 14C68.4667 14.1333 68.5333 14.3333 68.4 14.6C68.4 14.7333 68.4 14.9333 68.4 15.2C68.4 15.6 68.2667 15.8 68 15.8C67.8667 15.8 67.4667 15.6 66.8 15.2C60.8 11.6 54.7333 9.8 48.6 9.8C42.7333 9.8 37.8667 11.2 34 14C29.6 16.9333 27.4 21.3333 27.4 27.2C27.4 32.8 30.2 38.2 35.8 43.4C53.1333 27.2667 74.9333 19.2 101.2 19.2C110 19.2 117.6 20.4667 124 23C133.2 26.3333 137.8 31.6667 137.8 39C137.8 44.6 134.133 49.4667 126.8 53.6C124.267 55.2 121.467 56.6 118.4 57.8C115.333 58.8667 112.067 59.7333 108.6 60.4C102.6 61.6 96.1333 62.2 89.2 62.2C70.9333 62.2 55.2667 58.4 42.2 50.8C27.1333 67.7333 19.6 86.0667 19.6 105.8C19.6 116.6 22.0667 125.667 27 133C32.6 141.533 40.6 145.8 51 145.8C70.8667 145.8 87.1333 136.267 99.8 117.2C104.067 110.667 106.2 104.733 106.2 99.4C106.2 94.7333 104.6 90.9333 101.4 88C98.3333 84.9333 94.4667 83.4 89.8 83.4C85.2667 83.4 81.0667 84.7333 77.2 87.4C73.2 89.9333 70.3333 93.4 68.6 97.8C68.2 98.8667 67.7333 99.4 67.2 99.4C66.6667 99.4 66.4 99.0667 66.4 98.4C66.4 98.2667 66.4 98.1333 66.4 98C66.5333 97.7333 66.6 97.5333 66.6 97.4C68.3333 92.4667 71.5333 88.6 76.2 85.8C80.6 83 85.4667 81.6 90.8 81.6C96.5333 81.6 101.333 83.3333 105.2 86.8C108.8 90.4 110.6 95 110.6 100.6C110.6 107 108.667 113.133 104.8 119C99.4667 127.533 91.6667 134.533 81.4 140C71.5333 145.333 61.4 148 51 148ZM84.4 59.6C89.3333 59.6 94.2 59.2 99 58.4C103.8 57.6 108.6 56.5333 113.4 55.2C126.733 50.9333 133.4 45.0667 133.4 37.6C133.4 26.9333 123.2 21.6 102.8 21.6C81.0667 21.6 61.4 30.8 43.8 49.2C55.8 56.1333 69.3333 59.6 84.4 59.6Z" stroke="url(#paint0_linear_53689_5)" stroke-width="14" mask="url(#path-1-outside-1_53689_5)"/>
<path d="M145.728 139.2C137.728 139.2 133.728 135.667 133.728 128.6C133.728 123 135.928 116.6 140.328 109.4C141.795 106.867 145.861 101.2 152.528 92.4C156.928 86.5333 159.128 82.4 159.128 80C159.128 77.7333 157.261 76.6 153.528 76.6C150.995 76.6 148.195 76.6667 145.128 76.8C142.195 76.9333 139.795 77.0667 137.928 77.2C137.528 79.3333 136.928 81.8 136.128 84.6C135.328 87.4 134.395 90.3333 133.328 93.4C132.661 95.2667 131.595 97.8 130.128 101C128.795 104.2 126.995 107.6 124.728 111.2C124.328 111.733 123.995 112 123.728 112C123.595 112 123.528 111.867 123.528 111.6C123.528 110.933 123.795 110.067 124.328 109C125.395 107.133 126.595 104.867 127.928 102.2C129.261 99.4 130.528 96.3333 131.728 93C132.795 90.0667 133.728 87 134.528 83.8C135.461 80.4667 135.995 78.2 136.128 77C132.928 75 131.328 72 131.328 68C131.328 63.4667 132.928 61.2 136.128 61.2C138.395 61.2 139.528 63.2667 139.528 67.4C139.528 68.3333 139.395 69.4667 139.128 70.8C138.861 72.1333 138.528 73.7333 138.128 75.6C139.995 75.4667 142.928 75.3333 146.928 75.2C151.061 74.9333 154.995 74.8 158.728 74.8C165.528 74.8 168.928 76.8667 168.928 81C168.928 85.4 163.661 94.4667 153.128 108.2C150.861 111.533 148.328 115.333 145.528 119.6C142.861 123.733 141.528 128 141.528 132.4C141.528 133.6 141.795 134.733 142.328 135.8C142.861 136.867 143.995 137.4 145.728 137.4C151.461 137.4 157.795 133.933 164.728 127C168.195 123.533 171.395 119.8 174.328 115.8C177.261 111.8 179.928 107.333 182.328 102.4C182.861 101.333 183.328 100.8 183.728 100.8C183.995 100.8 184.128 101 184.128 101.4C184.128 102.067 183.928 102.8 183.528 103.6C181.261 108.267 178.528 112.8 175.328 117.2C172.128 121.467 168.595 125.533 164.728 129.4C158.195 135.933 151.861 139.2 145.728 139.2Z" stroke="url(#paint1_linear_53689_5)" stroke-width="14" mask="url(#path-1-outside-1_53689_5)"/>
<path d="M194.616 140.4C188.082 140.4 183.549 138.6 181.016 135C178.482 131.267 177.216 126.067 177.216 119.4C177.216 109.8 181.216 99.8 189.216 89.4C197.749 78.4667 206.616 73 215.816 73C222.616 73 226.016 75.3333 226.016 80C226.016 85.7333 222.882 91.7333 216.616 98C207.682 107.067 198.282 111.6 188.416 111.6C186.816 115.733 186.016 119.867 186.016 124C186.016 128.533 186.882 132.067 188.616 134.6C190.349 137.133 192.882 138.4 196.216 138.4C199.682 138.4 203.282 137.467 207.016 135.6C210.749 133.6 213.949 131.267 216.616 128.6C218.882 126.333 221.416 123.267 224.216 119.4C227.149 115.4 230.082 110.533 233.016 104.8C233.416 104.133 233.816 103.8 234.216 103.8C235.016 103.8 235.016 104.467 234.216 105.8C231.949 110.333 229.482 114.667 226.816 118.8C224.282 122.933 220.882 126.933 216.616 130.8C214.082 133.333 210.882 135.6 207.016 137.6C203.149 139.467 199.016 140.4 194.616 140.4ZM188.616 110.2C195.949 110.2 204.149 106.267 213.216 98.4V98.2C215.749 96.0667 218.149 93.1333 220.416 89.4C223.082 85.2667 224.416 81.7333 224.416 78.8C224.416 76.6667 222.816 75.6 219.616 75.6C214.549 75.6 208.416 80.1333 201.216 89.2C197.882 93.2 195.216 96.9333 193.216 100.4C191.216 103.867 189.682 107.133 188.616 110.2Z" stroke="url(#paint2_linear_53689_5)" stroke-width="14" mask="url(#path-1-outside-1_53689_5)"/>
<path d="M278.773 139C271.84 139 268.373 134.2 268.373 124.6C268.373 120.867 268.973 116.6 270.173 111.8C260.84 129.8 251.573 138.8 242.373 138.8C237.973 138.8 234.64 136.6 232.373 132.2C230.507 128.867 229.573 124.667 229.573 119.6C229.573 115.467 230.173 111.133 231.373 106.6C233.64 98.7333 238.44 91.3333 245.773 84.4C253.907 76.9333 261.64 73.2 268.973 73.2C275.64 73.2 278.973 77.2 278.973 85.2C278.973 88.6667 278.24 92.7333 276.773 97.4L288.973 73.4H289.573C289.973 74.0667 290.84 74.4 292.173 74.4C294.84 74.4 298.24 72.8 302.373 69.6L302.773 70L285.773 103.2C278.973 116.4 275.573 126.4 275.573 133.2C275.573 135.867 276.773 137.2 279.173 137.2C280.773 137.2 282.707 136.6 284.973 135.4C287.24 134.2 289.64 132.2 292.173 129.4C295.373 125.667 298.107 122.133 300.373 118.8C302.773 115.333 305.507 110.667 308.573 104.8C308.973 104.133 309.373 103.8 309.773 103.8C310.573 103.8 310.573 104.467 309.773 105.8C307.373 110.333 304.773 114.867 301.973 119.4C299.307 123.8 296.04 127.933 292.173 131.8C287.373 136.6 282.907 139 278.773 139ZM243.173 137.4C250.64 137.4 260.24 126.867 271.973 105.8C275.707 99.1333 277.573 92.4 277.573 85.6C277.573 78.4 275.24 74.8 270.573 74.8C265.507 74.8 259.773 79 253.373 87.4C250.84 90.8667 248.64 94.2667 246.773 97.6C245.04 100.933 243.64 104.133 242.573 107.2C239.773 115.2 238.373 122.4 238.373 128.8C238.373 134.533 239.973 137.4 243.173 137.4Z" stroke="url(#paint3_linear_53689_5)" stroke-width="14" mask="url(#path-1-outside-1_53689_5)"/>
<path d="M316.759 139C307.293 139 302.559 134.333 302.559 125C302.559 117.667 305.293 108.4 310.759 97.2C311.026 96.6667 312.293 94.3333 314.559 90.2C316.959 85.9333 320.359 79.8667 324.759 72H314.359L313.959 71.6L314.159 70.4L314.359 70.2H325.759L340.159 45C341.359 45.5333 342.759 45.8 344.359 45.8C346.226 45.8 348.226 45.1333 350.359 43.8C352.626 42.6 354.159 41.2667 354.959 39.8L355.559 40L337.559 70.2H351.359L351.559 70.4V71.6L351.159 72H336.559L322.959 96C314.826 110.267 310.759 121.267 310.759 129C310.759 134.467 312.893 137.2 317.159 137.2C323.826 137.2 330.559 133.467 337.359 126C339.226 124 341.426 121 343.959 117C346.493 113 348.626 109.2 350.359 105.6C350.626 104.933 350.959 104.733 351.359 105C351.893 105.133 352.026 105.533 351.759 106.2C349.759 110.2 347.626 114 345.359 117.6C343.226 121.2 340.759 124.533 337.959 127.6C331.026 135.2 323.959 139 316.759 139Z" stroke="url(#paint4_linear_53689_5)" stroke-width="14" mask="url(#path-1-outside-1_53689_5)"/>
<path d="M381.747 62.4C377.48 62.4 375.347 60.3333 375.347 56.2C375.347 51.6667 377.414 49.4 381.547 49.4C385.814 49.4 387.947 51.4667 387.947 55.6C387.947 60.1333 385.88 62.4 381.747 62.4ZM358.147 140.4C349.347 140.4 344.947 135.533 344.947 125.8C344.947 118.733 347.014 111.267 351.147 103.4L366.147 74H366.747C367.147 74.5333 367.947 74.8 369.147 74.8C371.68 74.8 375.014 73.2667 379.147 70.2L379.547 70.6L362.547 103.6C355.48 117.2 351.947 126.667 351.947 132C351.947 134.4 352.614 136.067 353.947 137C355.28 137.933 356.814 138.4 358.547 138.4C360.414 138.4 362.214 138 363.947 137.2C365.814 136.4 367.414 135.533 368.747 134.6C372.347 131.8 375.347 128.6 377.747 125C380.28 121.267 382.48 117.533 384.347 113.8C386.214 110.067 387.88 106.933 389.347 104.4C389.747 103.733 390.147 103.533 390.547 103.8C390.947 103.933 391.014 104.333 390.747 105C388.08 110.6 385.147 116.333 381.947 122.2C378.747 128.067 374.68 132.733 369.747 136.2C368.014 137.4 366.147 138.4 364.147 139.2C362.28 140 360.28 140.4 358.147 140.4Z" stroke="url(#paint5_linear_53689_5)" stroke-width="14" mask="url(#path-1-outside-1_53689_5)"/>
<path d="M397.223 139.4C388.957 139.4 384.823 134.2 384.823 123.8C384.823 119.533 385.757 114.6 387.623 109C388.69 106.2 390.623 101.867 393.423 96C396.357 90.1333 400.223 82.8 405.023 74H405.423C406.49 74.6667 407.623 75 408.823 75C412.023 75 415.423 73.6667 419.023 71L419.223 71.4C415.49 75.1333 409.09 85.4667 400.023 102.4C394.69 112.667 392.023 122 392.023 130.4C392.023 135.333 393.623 137.8 396.823 137.8C404.957 137.8 414.357 129.067 425.023 111.6C423.557 109.067 422.823 105.133 422.823 99.8C422.823 98.2 422.89 96.6 423.023 95C423.29 93.2667 423.557 91.5333 423.823 89.8C424.223 86.7333 425.223 83.4667 426.823 80C428.823 75.3333 430.89 73 433.023 73C435.557 73 436.823 75.2 436.823 79.6C436.823 87.3333 433.357 97.8667 426.423 111.2C426.69 112.933 427.557 114.8 429.023 116.8C430.623 118.8 432.49 119.8 434.623 119.8C440.357 119.8 445.557 115.067 450.223 105.6C450.623 104.8 451.023 104.533 451.423 104.8C451.957 105.067 452.023 105.533 451.623 106.2C449.09 111.133 446.49 114.867 443.823 117.4C441.29 119.933 438.29 121.2 434.823 121.2C432.957 121.2 431.157 120.6 429.423 119.4C427.823 118.067 426.49 116.133 425.423 113.6C422.357 120 418.623 125.467 414.223 130C408.357 136.267 402.69 139.4 397.223 139.4Z" stroke="url(#paint6_linear_53689_5)" stroke-width="14" mask="url(#path-1-outside-1_53689_5)"/>
<path d="M463.952 140.4C457.418 140.4 452.885 138.6 450.352 135C447.818 131.267 446.552 126.067 446.552 119.4C446.552 109.8 450.552 99.8 458.552 89.4C467.085 78.4667 475.952 73 485.152 73C491.952 73 495.352 75.3333 495.352 80C495.352 85.7333 492.218 91.7333 485.952 98C477.018 107.067 467.618 111.6 457.752 111.6C456.152 115.733 455.352 119.867 455.352 124C455.352 128.533 456.218 132.067 457.952 134.6C459.685 137.133 462.218 138.4 465.552 138.4C469.018 138.4 472.618 137.467 476.352 135.6C480.085 133.6 483.285 131.267 485.952 128.6C488.218 126.333 490.752 123.267 493.552 119.4C496.485 115.4 499.418 110.533 502.352 104.8C502.752 104.133 503.152 103.8 503.552 103.8C504.352 103.8 504.352 104.467 503.552 105.8C501.285 110.333 498.818 114.667 496.152 118.8C493.618 122.933 490.218 126.933 485.952 130.8C483.418 133.333 480.218 135.6 476.352 137.6C472.485 139.467 468.352 140.4 463.952 140.4ZM457.952 110.2C465.285 110.2 473.485 106.267 482.552 98.4V98.2C485.085 96.0667 487.485 93.1333 489.752 89.4C492.418 85.2667 493.752 81.7333 493.752 78.8C493.752 76.6667 492.152 75.6 488.952 75.6C483.885 75.6 477.752 80.1333 470.552 89.2C467.218 93.2 464.552 96.9333 462.552 100.4C460.552 103.867 459.018 107.133 457.952 110.2Z" stroke="url(#paint7_linear_53689_5)" stroke-width="14" mask="url(#path-1-outside-1_53689_5)"/>
</g>
<defs>
<linearGradient id="paint0_linear_53689_5" x1="255.576" y1="7" x2="255.576" y2="148" gradientUnits="userSpaceOnUse">
<stop stop-color="#9000FF"/>
<stop offset="1" stop-color="#2439FF"/>
</linearGradient>
<linearGradient id="paint1_linear_53689_5" x1="255.576" y1="7" x2="255.576" y2="148" gradientUnits="userSpaceOnUse">
<stop stop-color="#9000FF"/>
<stop offset="1" stop-color="#2439FF"/>
</linearGradient>
<linearGradient id="paint2_linear_53689_5" x1="255.576" y1="7" x2="255.576" y2="148" gradientUnits="userSpaceOnUse">
<stop stop-color="#9000FF"/>
<stop offset="1" stop-color="#2439FF"/>
</linearGradient>
<linearGradient id="paint3_linear_53689_5" x1="255.576" y1="7" x2="255.576" y2="148" gradientUnits="userSpaceOnUse">
<stop stop-color="#9000FF"/>
<stop offset="1" stop-color="#2439FF"/>
</linearGradient>
<linearGradient id="paint4_linear_53689_5" x1="255.576" y1="7" x2="255.576" y2="148" gradientUnits="userSpaceOnUse">
<stop stop-color="#9000FF"/>
<stop offset="1" stop-color="#2439FF"/>
</linearGradient>
<linearGradient id="paint5_linear_53689_5" x1="255.576" y1="7" x2="255.576" y2="148" gradientUnits="userSpaceOnUse">
<stop stop-color="#9000FF"/>
<stop offset="1" stop-color="#2439FF"/>
</linearGradient>
<linearGradient id="paint6_linear_53689_5" x1="255.576" y1="7" x2="255.576" y2="148" gradientUnits="userSpaceOnUse">
<stop stop-color="#9000FF"/>
<stop offset="1" stop-color="#2439FF"/>
</linearGradient>
<linearGradient id="paint7_linear_53689_5" x1="255.576" y1="7" x2="255.576" y2="148" gradientUnits="userSpaceOnUse">
<stop stop-color="#9000FF"/>
<stop offset="1" stop-color="#2439FF"/>
</linearGradient>
</defs>
</svg>
    <div className='sign-form-container'>
      <form onSubmit={handleSubmit} id='sign-form'>
        <div>
          <input
            type="text"
            id="name"
            placeholder={errors.name ? errors.name : 'Name'}
            value={name}
            onChange={(event) => setName(event.target.value)}
            style={errors.name ? { border: '1px solid red' } : null}
          />
        </div>
        <div>
          <input
            type="email"
            id="email"
            placeholder={errors.email ? errors.email : 'Email'}
            value={email}
            onChange={(event) => setEmail(event.target.value)}
            style={errors.email ? { border: '1px solid red' } : null}
          />
        </div>
        <div>
          <input
            type="password"
            id="password"
            placeholder={errors.password ? errors.password : 'Password'}
            value={password}
            onChange={(event) => setPassword(event.target.value)}
            style={errors.password ? { border: '1px solid red' } : null}
          />
        </div>
        <div className='image-input-container'>
          <FontAwesomeIcon icon={faUserPlus} />
          <span> Add Image {loading}</span>
          <input
            type="file"
            id="image"
            accept="image/*"
            onChange={(event) => {
              const file = event.target.files[0];
              const storageRef = ref(storage, "userImages/" + file.name);
              const uploadTask = uploadBytesResumable(storageRef, file);

              uploadTask.on(
                "state_changed",
                (snapshot) => {
                  const progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;
                  setLoading(`Upload is ${progress}% done`);
                  if (progress === 100) {
                    setUploadComplete(true);
                  }
                },
                (error) => {
                },
                () => {
                  getDownloadURL(uploadTask.snapshot.ref).then((downloadURL) => {
                    setImage(downloadURL);
                  });
                }
              );
            }}
            style={errors.image ? { border: "1px solid red" } : null}
          />
        </div>
        <hr></hr>
        <span style={{ color: "red" }}>{firebaseErr}</span>
        <div className='button-container'>
          <button type="submit" >Create new account</button>
        </div>
        <Link to="/signin">
          Already have an account ?
        </Link>
      </form>
    </div>
    </div>
  );
};

export default SignUp;